# Http 1.1

# Methods


## HEAD


 -HEAD 메소드는 GET과 동일하지만, `서버는 응답에서 메시지 본문을 보내서는 안됩니다(즉, 응답은 헤더 섹션의 끝에서 종료됩니다)`. 
- 서버는 HEAD 요청에 대한 응답으로 GET이었을 경우와 동일한 헤더 필드를 보내야 하지만, 페이로드 헤더 필드(3.3 절)는 생략할 수 있습니다. 
- 이 메소드는 표현 데이터를 전송하지 않고 선택된 표현에 대한 메타데이터를 얻는 데 사용될 수 있으며, 주로 하이퍼텍스트 링크의 유효성, 접근성 및 최근 수정 여부를 테스트하는 데 사용됩니다.

- HEAD 요청 메시지 내에 있는 페이로드는 정의된 의미가 없습니다. HEAD 요청에 페이로드 본문을 보내면 기존의 일부 구현에서 요청을 거부할 수 있습니다.

- HEAD 요청에 대한 응답은 캐시 가능하며, 캐시는 Cache-Control 헤더 필드(5.2 절 [RFC7234] 참조)에 따라 후속 HEAD 요청을 충족시키기 위해 사용할 수 있습니다. 
- HEAD 응답은 이전에 GET에 대해 캐시된 응답에도 영향을 줄 수 있습니다; [RFC7234]의 4.3.5 절을 참조하십시오.

<br><br>

## POST

- POST 메서드는 대상 리소스에 대해 요청에 포함된 표현을 리소스의 고유한 의미에 따라 처리하도록 요청하는 것입니다. 
- 예를 들어 POST는 다음과 같은 기능에 사용됩니다(기타 기능들 중):

	1. HTML 폼에 입력된 필드와 같은 데이터 블록을 데이터 처리 프로세스에 제공하는 것
	2. 게시판, 뉴스 그룹, 메일링 리스트, 블로그 또는 유사한 기사 그룹에 메시지를 게시하는 것
	3. 아직 원 서버에서 확인되지 않은 새로운 리소스를 생성하는 것
	4. 리소스의 기존 표현에 데이터를 추가하는 것

- 서버는 POST 요청을 처리한 결과에 따라 적절한 상태 코드를 선택하여 응답 의미를 나타냅니다. 
- 이 명세에서 정의된 상태 코드 중 `거의 모든 상태 코드가 POST에 대한 응답`으로 수신될 수 있습니다	- 예외는 
		1. 206 (Partial Content), 
		2. 304 (Not Modified) 
		3. 416 (Range Not Satisfiable)

- POST 요청의 처리 결과로 하나 이상의 리소스가 원 서버에 생성된 경우, 원 서버는 201 (Created) 응답을 보내야 합니다. 
- 이 응답은 Location 헤더 필드를 포함해야 하며, 이는 생성된 주요 리소스를 식별하는 식별자를 제공하고 새로운 리소스를 참조하는 동안 요청 상태를 설명하는 표현을 포함해야 합니다(섹션 7.1.2).

<br>

- POST 요청에 대한 응답은 명시적인 신선도 정보(섹션 4.2.1 of [RFC7234] 참조)가 포함될 때에만 캐시할 수 있습니다. 

- 그러나 POST 캐싱은 널리 구현되지 않았습니다. 

- 원 서버가 클라이언트가 나중에 GET으로 다시 사용할 수 있는 방식으로 POST의 결과를 캐시할 수 있도록 하려는 경우, 원 서버는 POST의 효과적인 요청 URI와 동일한 값을 가진 Content-Location 헤더 필드와 결과를 포함하는 200 (OK) 응답을 보낼 수 있습니다(섹션 3.1.4.2).

<br>

- POST 처리 결과가 기존 리소스의 표현과 동등한 경우, 원 서버는 303 (See Other) 응답을 보내어 사용자 에이전트를 해당 리소스로 리디렉션할 수 있습니다. 
- 이는 사용자 에이전트에게 리소스 식별자를 제공하고 공유 캐싱에 더 적합한 방법을 통해 표현을 전송하는 이점을 제공하지만, 사용자 에이전트가 이미 표현을 캐시하지 않은 경우에는 추가 요청 비용이 발생할 수 있습니다.

<br><br>

## DELETE

- DELETE 메서드는 원 서버에게 대상 리소스와 현재 기능 간의 연관을 제거하도록 요청합니다. 
- 사실, 이 메서드는 UNIX의 rm 명령과 유사한 역할을 합니다. 
- 즉, 이는 원 서버의 URI 매핑에서 삭제 작업을 표현하는 것입니다. 
- 이전에 연관된 정보를 삭제하는 것을 기대하는 것이 아닌, `실제로 원 서버에 URI 매핑의 삭제 작업`을 나타냅니다.

<br>

- 대상 리소스에 하나 이상의 현재 표현이 있는 경우, `해당 리소스가 원 서버에 의해 파괴될 수도 있고 되지 않을 수도` 있으며, 연관된 저장소가 `회수될 수도 있고 되지 않을 수도` 있습니다. 
- 이는 완전히 `리소스의 성격과 원 서버의 구현에 따라 달라지며`, 이 사양의 범위를 벗어납니다. 
- 마찬가지로 DELETE 결과로 인해 리소스의 다른 구현 측면, 예를 들어 데이터베이스나 게이트웨이 연결과 같은 것들이 비활성화되거나 보관될 수도 있습니다. 
- 일반적으로, 원 서버는 삭제 작업을 수행하는 데 명시된 메커니즘이 있는 리소스에 대해서만 DELETE를 허용할 것으로 가정됩니다.

<br>

- DELETE 메서드를 허용하는 리소스는 상대적으로 적습니다. 
- 주로 원격 작성 환경에서 사용되며, 사용자는 해당 메서드의 효과에 대해 어느 정도의 지시를 가지고 있습니다. 
- 예를 들어, 이전에 `PUT 요청을 사용하여 만든 리소스 또는 POST 요청에 대한 201 (Created) 응답 후 Location 헤더 필드로 식별된 리소스는` `해당 작업을 취소하는 DELETE 요청을 허용할 수` 있습니다. 
- 마찬가지로, HTTP를 사용하는 원격 작업을 위한 버전 관리 클라이언트와 같이 작성 기능을 구현하는 사용자 에이전트 사용에서는 DELETE를 사용할 수 있습니다. - 이 경우 서버의 URI 공간이 버전 저장소에 해당하도록 설계되었다는 가정에 따라 DELETE를 사용할 수 있습니다.

<br>

- `DELETE 메서드가 성공적으로 적용된 경우, 원 서버는 작업이 성공할 가능성이 있지만 아직 적용되지 않은 경우 202 (Accepted) 상태 코드`를 보내야 합니다. 
- `작업이 적용되었으며 추가 정보를 제공하지 않아야 하는 경우 204 (No Content) 상태 코드`를 보내야 하며, 
- `작업이 적용되었고 응답 메시지가 상태를 설명하는 표현을 포함하는 경우 200 (OK) 상태 코드`를 보내야 합니다.

<br>

- DELETE 요청 메시지 내의 페이로드에는 정의된 의미가 없습니다. 
- `DELETE 요청에 페이로드 본문을 보내면 기존의 일부 구현에서 요청을 거부할 수 있습니다.`

<br>

- DELETE 메서드에 대한 응답은 캐시할 수 없습니다. 
- DELETE 요청이 효과적인 요청 URI에 대해 하나 이상의 저장된 응답을 통과하는 경우, 해당 저장된 응답은 무효화될 것입니다 (참조: [RFC7234]의 섹션 4.4).


<br><br>

# 3xx status code


- 3xx (리다이렉션) 상태 코드 클래스는 요청을 완료하기 위해 사용자 에이전트가 추가 조치를 취해야 함을 나타냅니다. 
- `Location 헤더 필드(7.1.2 절)가 제공된 경우, 특정한 상태 코드가 이해되지 않더라도 사용자 에이전트는 자동으로 요청을 Location 필드 값으로 참조된 URI로 리다이렉트 할 수 있습니다.`
- 안전한 것으로 알려진 메서드에 대해서는 자동 리다이렉션이 신중하게 이루어져야 합니다(4.2.1 절에서 정의됨)
- 사용자가 안전하지 않은 요청을 리다이렉트하길 원하지 않을 수 있기 때문입니다.

- 리다이렉션에는 여러 유형이 있습니다:

	1. 리소스가 다른 URI에서 사용 가능할 수 있다는 것을 나타내는 리다이렉션으로, Location 필드에서 제공되는 것처럼 
		 - 상태 코드 301 (영구 이동), 302 (찾음) 및 307 (임시 리다이렉트)가 있습니다.

	2. 원본 요청 대상을 나타낼 수 있는 각각의 일치하는 리소스 선택을 제공하는 리다이렉션으로, 
		- 300 (다중 선택) 상태 코드가 있습니다.

	3. 요청에 대한 간접 응답을 나타낼 수 있는 다른 리소스로의 리다이렉션으로, 
		- Location 필드로 식별된 303 (다른 곳 참조) 상태 코드가 있습니다.

	4. 이전에 캐시된 결과로의 리다이렉션으로, 
		- 304 (수정되지 않음) 상태 코드가 있습니다.

- 참고: HTTP/1.0에서 상태 코드 301 (영구 이동) 및 302 (찾음)은 첫 번째 유형의 리다이렉션을 위해 정의되었습니다([RFC1945], 9.3 절). 
 - 초기 사용자 에이전트는 리다이렉트 대상에 적용되는 메서드가 원래 요청과 동일한지 또는 GET으로 변경될지에 따라 분할되었습니다. 
 - HTTP는 원래 CERN에서의 구현과 일치하도록 301과 302에 대한 전자의 의미를 정의하고, 후자의 의미와 일치하도록 303 (다른 곳 참조)를 정의했습니다. 
- 그러나 보편적인 관행은 점차 301과 302에 대해 후자의 의미로 수렴했습니다. 
- `HTTP/1.1의 첫 번째 수정판에서 307 (임시 리다이렉트)가 전자의 의미를 나타내도록 추가되었으며,` `10년 이상이 지난 지금에도 대부분의 사용자 에이전트는 301과 302에 대해 메서드를 변경합니다.`
- 따라서 이 명세는 `원래 요청이 POST인 경우에는 해당 동작이 준수되는 것`으로 합니다.

- 클라이언트는 순환 리다이렉션(즉, "무한" 리다이렉션 루프)을 감지하고 개입해야 합니다.

- 참고: 이 명세의 이전 버전은 최대 다섯 번의 리다이렉션을 권장했습니다([RFC2068], 10.3 절). 콘텐츠 개발자는 일부 클라이언트가 이러한 고정된 제한을 구현할 수도 있다는 점을 인지해야 합니다.

<br>

## 300 Multiple Choices

- 요청된 리소스는 여러 표현 중 하나에 해당하며, 각각에는 고유한 위치와 에이전트 주도 협상 정보(section 12)가 제공됩니다. 
- 이는 사용자(또는 사용자 에이전트)가 선호하는 표현을 선택하고 해당 위치로 요청을 리디렉션할 수 있도록 제공됩니다.

- HEAD 요청이 아니라면, 응답은 사용자 또는 사용자 에이전트가 가장 적합한 것을 선택할 수 있는 리소스 특성 및 위치 목록을 포함하는 엔터티를 반드시 포함해야 합니다. 
- 엔터티 형식은 Content-Type 헤더 필드에 지정된 미디어 유형에 의해 정의됩니다. 
- 형식과 사용자 에이전트의 기능에 따라 가장 적합한 선택을 자동으로 수행할 수 있습니다. 그러나 이 명세는 이러한 자동 선택을 위한 표준을 정의하지 않습니다.

서버가 선호하는 표현의 선택이 있는 경우, 해당 표현에 대한 구체적인 URI를 Location 필드에 포함해야 합니다. 사용자 에이전트는 Location 필드 값을 자동 리디렉션에 사용할 수 있습니다. 이 응답은 다른 표시가 없는 한 캐시될 수 있습니다.

## 301 Moved Permanently

- 요청된 리소스에는 새로운 영구적인 URI가 할당되었으며, 이후에 이 리소스에 대한 참조는 반환된 URI 중 하나를 사용해야 합니다. 
- 링크 편집 기능을 갖춘 클라이언트는 가능한 경우 요청한 URI에 대한 참조를 서버가 반환한 새로운 참조 중 하나 이상으로 자동으로 다시 링크해야 합니다. 
- 이 응답은 다른 표시가 없는 한 캐시될 수 있습니다.

- 새로운 영구적인 URI는 응답의 Location 필드에서 제공되어야 합니다. 
- 요청 방법이 HEAD가 아닌 경우, 응답의 엔터티는 새로운 URI로의 하이퍼링크가 포함된 짧은 하이퍼텍스트 노트를 포함해야 합니다.

- GET 또는 HEAD 이외의 요청에 대한 301 상태 코드를 받은 경우, 사용자 에이전트는 요청을 자동으로 리디렉션해서는 안 되며, 요청이 발행된 조건이 변경될 수 있으므로 사용자에 의해 확인되어야 합니다.

  참고: 301 상태 코드를 받은 후 POST 요청을 자동으로 리디렉션할 때, 일부 기존의 HTTP/1.0 사용자 에이전트는 잘못해서 GET 요청으로 변경할 수 있습니다.

 <br><br>

# 4xx status code


- 4xx 상태 코드 클래스는 `클라이언트가 오류를 저지른 경우`에 사용됩니다. 
- HEAD 요청에 응답하는 경우를 제외하고, 서버는 오류 상황에 대한 설명과 해당 상태가 일시적인지 영구적인지 여부를 포함한 엔터티를 포함해야 합니다. 
- 이러한 상태 코드는 모든 요청 방법에 적용될 수 있습니다. 
- 사용자 에이전트는 포함된 엔터티를 사용자에게 표시해야 합니다.

- 만약 클라이언트가 데이터를 보내는 경우, TCP를 사용하는 서버 구현은 서버가 입력 연결을 닫기 전에 클라이언트가 응답을 수신했는지 확인하는 것이 좋습니다. 
- 클라이언트가 닫힌 후에도 계속 데이터를 서버로 보내는 경우, 서버의 TCP 스택은 클라이언트로 리셋 패킷을 보내게 되는데, 이로 인해 클라이언트의 확인되지 않은 입력 버퍼가 지워질 수 있습니다. 이는 HTTP 응용 프로그램이 입력을 읽고 해석하기 전에 발생할 수 있습니다.

## 400 Bad Request

- `잘못된 syntax로 인해 서버가 요청을 이해할 수 없습니다. `
- 클라이언트는 수정 없이 요청을 반복해서는 안 됩니다.


## 401 Unauthorized

- 이 요청은 사용자 인증을 필요로 합니다. 
- 응답은 요청된 리소스에 적용 가능한 도전(challenge)을 포함하는 `WWW-Authenticate 헤더 필드`를 포함해야 합니다. 
- 클라이언트는 적절한 `Authorization 헤더 필드`를 사용하여 요청을 반복할 수 있습니다. 
- 만약 요청이 이미 Authorization 자격 증명을 포함하고 있다면, 401 응답은 해당 자격 증명으로의 인가가 거부되었음을 나타냅니다. 
- 만약 401 응답이 이전 응답과 동일한 도전을 포함하고 있으며, 사용자 에이전트가 이미 적어도 한 번의 인증 시도를 했다면, 사용자에게는 응답에 포함된 엔터티가 제시되어야 합니다. 
- 이는 해당 엔터티에 관련 진단 정보가 포함될 수 있기 때문입니다. 
HTTP 접근 인증에 관한 설명은 "HTTP Authentication: Basic and Digest Access Authentication" [43]에서 설명되어 있습니다.

## 402 Payment Required

이 코드는 나중에 사용하기 위해 예약되어 있습니다.


## 403 Forbidden

- `서버는 요청을 이해했지만 이행을 거부`합니다. 
- 인가도 도움이 되지 않으며 요청을 반복해서는 안 됩니다. 
- 만약 요청 방법이 HEAD가 아니고 서버가 요청을 왜 수행하지 않았는지를 공개하고자 하는 경우, 서버는 엔터티에 거부 사유를 설명해야 합니다. 
- 만약 서버가 이 정보를 클라이언트에게 제공하고 싶지 않다면, 대신 상태 코드 404 (Not Found)를 사용할 수 있습니다.

## 404 Not Found

- `서버는 요청 URI와 일치하는 것을 찾을 수 없습니다. `
- 상태가 일시적인지 영구적인지에 대한 표시가 제공되지 않습니다. 
- 서버가 구성 가능한 내부 메커니즘을 통해 이전 리소스가 영구적으로 사용 불가능하고 전달 주소가 없음을 알고 있는 경우, 410 (Gone) 상태 코드를 사용해야 합니다. 
- 이 상태 코드는 서버가 정확히 왜 요청이 거부되었는지 공개하고 싶지 않은 경우나 다른 응답이 적용되지 않을 때 일반적으로 사용됩니다.

## 405 Method Not Allowed

- `Request-Line에 지정된 메소드는 요청된 Request-URI의 리소스에 대해 허용되지 않습니다.` 
- 응답은 요청된 리소스에 대한 유효한 메소드 목록을 포함하는 `Allow 헤더를 반드시 포함`해야 합니다.

## 406 Not Acceptable

- 요청에 의해 식별된 리소스는 요청에 포함된 accept 헤더에 따라 수용할 수 없는 콘텐트 특성을 가진 응답 엔터티를 생성할 수 있습니다.

- HEAD 요청이 아니라면, 응답은 사용자 또는 사용자 에이전트가 가장 적합한 선택을 할 수 있는 가능한 엔터티 특성 및 위치 목록을 포함하는 엔터티를 반드시 포함해야 합니다. 
- 엔터티 형식은 Content-Type 헤더 필드에 지정된 미디어 유형에 의해 정의됩니다. 형식과 사용자 에이전트의 기능에 따라 가장 적합한 선택을 자동으로 수행할 수 있습니다. 그러나 이 명세는 이러한 자동 선택을 위한 표준을 정의하지 않습니다.

- 참고: HTTP/1.1 서버는 요청에 포함된 accept 헤더에 따라 수용할 수 없는 응답을 반환할 수 있습니다. 
- 일부 경우에는 406 응답을 보내는 것보다 이러한 응답을 보내는 것이 선호될 수도 있습니다. 사용자 에이전트는 수신된 응답의 헤더를 검사하여 수용 가능한지 여부를 판단하는 것이 권장됩니다.

- 응답이 수용할 수 없는 경우, 사용자 에이전트는 추가 동작에 대한 사용자의 결정을 위해 임시로 데이터 수신을 중지하고 사용자에게 질의해야 합니다.



